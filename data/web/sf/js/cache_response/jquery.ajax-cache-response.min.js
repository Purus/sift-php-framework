var requestStorage=function(){var a={},c=[];return{length:0,key:function(a){return typeof a==="number"&&c.length>=a&&a>=0?c[a]:null},getItem:function(c){return a.hasOwnProperty(c)?a[c]:null},setItem:function(f,h){a.hasOwnProperty(f)||(this.length++,c.push(f));a[f]=h},removeItem:function(f){if(a.hasOwnProperty(f)){this.length--;for(var h=0;h<c.length;h++)c[h]==f&&c.splice(h,1)}delete a[f]},clear:function(){a={};c=[];this.length=0}}}();
(function(a){var c={timeStamp:"__timeStamp__",responseText:"__responseText__",hasResponseXML:"__hasResponseXML__",responseHeaders:"__responseHeaders__"};a.ajaxCacheResponse={storage:window.requestStorage};var f=function(e){var d="",b;for(b in e){var c=typeof e[b];c==="string"||c==="number"||c==="boolean"?d+=b+"="+e[b]+",":c==="object"?d+=b+"="+a.param(e[b])+",":c==="array"&&a.each(e[b],function(a,b){d+=f(b)})}return d},h=function(e,d){if(a.ajaxCacheResponse.storage.getItem(e+c.timeStamp)===null)return!1;
var b=!0;if(typeof d.cacheResponseTimer==="number"){var g=parseInt(a.ajaxCacheResponse.storage.getItem(e+c.timeStamp));if(typeof g==="number"){var f=(new Date).getTime(),b=g+d.cacheResponseTimer>f;if(b===!0)d.cacheTimeRemaining=d.cacheResponseTimer-(f-g)}}a.isFunction(d.cacheResponseValid)&&(b=d.cacheResponseValid.call(this,d));return b};a.ajaxPrefilter(function(e,d,b){if(e.cacheResponse===!0){if(a.ajaxCacheResponse.storage===void 0)throw"No valid storage defined for the Ajax Cache Response plugin";
d=f(d);e.cacheResponseId=d;if(h(d,e)===!0){var g=a.extend({},c),i;for(i in g)g[i]=a.ajaxCacheResponse.storage.getItem(d+g[i]);e.xhr=function(){return{open:a.noop,setRequestHeader:a.noop,send:a.noop,abort:a.noop,onreadystatechange:a.noop,getResponseHeader:a.noop,getAllResponseHeaders:function(){return g.responseHeaders},readyState:4,status:200,statusText:"success",responseText:g.responseText,responseXML:g.hasResponseXML===!0?a.parseXML(g.responseText):void 0}};b.responseFromCache=!0;b.cacheTimeRemaining=
e.cacheTimeRemaining}else b.responseFromCache=!1}});a(document).ajaxSuccess(function(e,d,b){if(b.cacheResponse===!0&&(e=b.cacheResponseId,h(e,b)===!1))b=a.ajaxCacheResponse.storage,b.setItem(e+c.responseText,d.responseText),b.setItem(e+c.responseHeaders,d.getAllResponseHeaders()),b.setItem(e+c.timeStamp,(new Date).getTime()),b.setItem(e+c.hasResponseXML,d.responseXML!==void 0)})})(jQuery);
