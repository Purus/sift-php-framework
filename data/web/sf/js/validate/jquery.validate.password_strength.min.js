(function(g,p){function q(a,b){var d,c=0;if(null===a||"undefined"===typeof a)return 0;if(a.constructor!==Array&&a.constructor!==Object)return 1;"COUNT_RECURSIVE"===b&&(b=1);1!=b&&(b=0);for(d in a)if(a.hasOwnProperty(d)&&(c++,1==b&&a[d]&&(a[d].constructor===Array||a[d].constructor===Object)))c+=this.count(a[d],1);return c}var l=function(a){this.options=g.extend({minStrenght:10},{},a)};l.prototype={constructor:l,hasOrderedCharacters:function(a,b){"undefined"===typeof b&&(b=3);for(var d=a.length,c=0,
f=0,e,k=0;k<d;k++){var h=a[k]+"";e=h.charCodeAt(0);55296<=e&&56319>=e&&1!==h.length&&(h=h.charCodeAt(1),e=1024*(e-55296)+(h-56320)+65536);if(e==f+1){if(c++,c>=b)return!0}else c=1;f=e}return!1},getMeterClassName:function(a){return a<this.options.minStrength?"weak":25>a?"quite-good":50>a?"good":75>a?"strong":"superb"},getStrength:function(a){var b=0,d=a.length;9<d&&(b+=10);for(var c,f=2;4>=f;f++){var e=a;c=f;null===c&&(c=1);if(null===e||1>c)c=!1;else{for(var e=e+"",k=[],h=0,g=e.length;h<g;)k.push(e.slice(h,
h+=c));c=k}e=Math.ceil(d/f);k="";h={};g="";for(k in c)if(c.hasOwnProperty(k)){var g=c[k],m;a:{m=g;var l=h,n="";for(n in l)if(l.hasOwnProperty(n)&&l[n]+""===m+""){m=n;break a}m=!1}!1===m&&(h[k]=g)}b-=e-q(h)}(d=a.match(/[0-9]/g))?(d=d.length,2<=d&&(b+=5)):d=0;this.hasOrderedCharacters(a)&&(b-=20);(f=a.match(/[!@#$%^&*()_+{}:"<>?\|\[\];\',./`\~]/g))?(f=f.length,0<f&&(b+=7*f)):f=0;e=a.match(/[a-z]/g);c=a.match(/[A-Z}]/g);a=a.match(/([\u0100-\u017F\u00C0-\u00CF\u00E0-\u00FF])/g);e=e?e.length:0;c=c?c.length:
0;0<e&&0<c&&(b+=10);a=a?a.length:0;0<a&&(b+=10*a);a=e+c+a;0<d&&0<f&&(b+=15);0<d&&0<a&&(b+=15);0<f&&0<a&&(b+=15);0===d&&0===f&&(b-=10);0===f&&0===a&&(b-=10);0>b?b=0:100<b&&(b=100);return{strength:b,isWeak:b<this.options.minStrength,className:this.getMeterClassName(b)}}};p.PasswordStrengthCalculator=l;"undefined"!==g.type(g.validator)&&(g.validator.passwordStrength=function(a,b){return(new l(b)).getStrength(a)},g.validator.addMethod("passwordStrength",function(a,b,d){if(this.optional(b))return!0;a=
g.validator.passwordStrength(a,d);b=g(b);d=b.parent().find(".password-strength-meter");d.width(b.width());d.find(".password-strength-meter-bar").removeClass().addClass("password-strength-meter-bar").addClass(a.className).css({width:(0<a.strength?a.strength:1)+"%"});return!a.isWeak},"Password is weak."),g.validator.classRuleSettings.passwordStrength={"password-strength":!0})})(jQuery,window);
