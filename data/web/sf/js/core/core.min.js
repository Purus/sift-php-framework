(function(c,b){var a=function(){var a={debug:!1,log:!1};return{add:function(c){jQuery.extend(a,c)},set:function(c,b){a[c]=b},get:function(c,b){return a&&a[c]?a[c]:b}}}();b.Config=a})(window.jQuery,window);
var Cookie=function(){return{set:function(c,b,a,d,e,k){var f="";a!=void 0&&(f=new Date,f.setTime(f.getTime()+864E5*parseInt(a)),f="; expires="+f.toGMTString());d==void 0&&(d="/");e==void 0&&(e=Config.get("cookie_domain"));document.cookie=escape(c)+"="+escape(b||"")+f+(d?"; path="+d:"")+(e?"; domain="+e:"")+(k?"; secure":"")},get:function(c){c+="=";for(var b=document.cookie.split(";"),a=0;a<b.length;a++){for(var d=b[a];d.charAt(0)==" ";)d=d.substring(1,d.length);if(d.indexOf(c)==0)return unescape(d.substring(c.length,
d.length))}return null},erase:function(c,b,a,d){try{var e=new Date;e.setTime(e.getTime()-36E5);var k="; expires="+e.toGMTString();document.cookie=escape(c)+"="+k+(b?"; path="+b:"")+(a?"; domain="+a:"")+(d?"; secure":"")}catch(f){return!1}return!0},remove:function(c,b,a,d){b==void 0&&(b="/");a==void 0&&(a=Config.get("cookie_domain"));return Cookie.erase(c,b,a,d)},accept:function(){if(typeof navigator.cookieEnabled=="boolean")return navigator.cookieEnabled;Cookie.set("_test","1");return Cookie.erase("_test")===
!0}}}();
(function(c){c.fn.removeMatchedClasses=function(b){return this.each(function(){for(var a=c(this),d=a.attr("class").split(/\s+/),e=0;e<d.length;e++){var k=d[e];k.match(b)&&a.removeClass(k)}})};c.fn.values=function(b){var a=c(this).find(":input").get();return typeof b!=="object"?(b={},c.each(a,function(){if(this.id&&!this.disabled&&(/select|textarea|input/i.test(this.nodeName)||/text|hidden|password/i.test(this.type)))b[this.id]=c(this).is(":checkbox")||c(this).is(":radio")?c(this).is(":checked"):c(this).val()}),
b):(c.each(a,function(){this.id&&b[this.id]!==void 0&&(this.type=="checkbox"||this.type==""||c(this).is(":radio")?c(this).prop("checked",b[this.id]):c(this).val(b[this.id]),c(this).trigger("change"))}),c(this))};c.fn.equalHeights=function(){function b(a,c){a.data("originalHeight",a.data("originalHeight")==void 0?a.height():a.data("originalHeight"));a.height(c)}function a(a){return a.data("originalHeight")==void 0?a.height():a.data("originalHeight")}var d=0,e=0,k=[];return this.each(function(){var f=
c(this),i=f.position().top;if(e!=i){for(var j=0;j<k.length;j++)b(k[j],d);k.length=0;e=i;d=a(f);k.push(f)}else k.push(f),d=d<a(f)?a(f):d;for(j=0;j<k.length;j++)b(k[j],d)})}})(window.jQuery);
(function(c,b,a){a=a||{behaviors:{}};a.jsEnabled=document.getElementsByTagName&&document.createElement&&document.createTextNode&&document.documentElement&&document.getElementById;a.attachBehaviors=function(b){b=b||document;a.jsEnabled&&c.each(a.behaviors,function(){this(b)})};a.getWindowWidth=function(){var e=c(b).width();e-=a.getScrollbarWidth();return e};a.getWindowHeight=function(){var e=c(b).height();e-=a.getScrollbarWidth();return e};a.getHorizontalScrollbarHeight=function(){var a=c(document).height(),
b=c(document).height()+c(document).scrollTop();return a==b};var d=0;a.getScrollbarWidth=function(){if(!d)if(c.browser.msie){var a=c('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:-1E3}).appendTo("body"),b=c('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:-1E3}).appendTo("body");d=a.width()-b.width();a.add(b).remove()}else a=c("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,
left:-1E3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),d=100-a.width(),a.parent().remove();return d};a.checkPlain=function(a){var a=String(a),b={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},c;for(c in b)a=a.replace(RegExp(c,"g"),b[c]);return a};a.freezeHeight=function(){a.unfreezeHeight();var b=document.createElement("div");c(b).css({position:"absolute",top:"0px",left:"0px",width:"1px",height:c("body").css("height")}).attr("id","freeze-height");c("body").append(b)};
a.unfreezeHeight=function(){c("#freeze-height").remove()};a.getSelection=function(a){if(typeof a.selectionStart!="number"&&document.selection){var b=document.selection.createRange(),c=b.duplicate();c.moveToElementText(a);c.setEndPoint("EndToEnd",b);a=c.text.length-b.text.length;return{start:a,end:a+b.text.length}}return{start:a.selectionStart,end:a.selectionEnd}};a.alert=function(a,d){c.isFunction(c.fn.dialog)?(c("body").append('<div id="application-dialog" />'),c("#application-dialog").html("<div>"+
a+"</div>").dialog({dialogClass:"ui-dropshadow",autoOpen:!0,minHeight:50,modal:!0,closeText:__("close"),resizable:!1,zIndex:1111,title:d?d:__("Alert"),buttons:[{text:__("Ok"),click:function(){c(this).dialog("close");c("#application-dialog").remove()}}]})):b.alert(a)};a.confirm=function(a,d,f){if(c.isFunction(c.fn.dialog)){var i=c("#application-dialog");i.length||(i=c('<div id="application-dialog" />'),c("body").append(i));i.data("callback",d);i.html("<div>"+a+"</div>").dialog({dialogClass:"ui-dropshadow",
closeOnEscape:!0,autoOpen:!0,minHeight:50,modal:!0,closeText:__("close"),resizable:!1,title:f?f:__("Confirmation"),buttons:[{text:__("Ok"),"class":"btn btn-primary",click:function(){var a=c(this),b=c(this).data("callback");a.dialog("close");a.removeData("callback").remove();c.isFunction(b)&&b.apply()}},{text:__("Cancel"),"class":"btn",click:function(){c(this).dialog("close");i.remove()}}]})}else b.confirm(a)&&c.isFunction(d)&&d.apply()};a.setupConfirmLinks=function(d){c("a.confirm",d).click(function(d){var e=
c(this),i=e.data("confirm")||__("Are you sure?");a.confirm('<i class="icon-exclamation-sign icon-large"></i> '+i,function(){b.location=e.attr("href")});d.preventDefault()})};a.behaviors.coreSetupConfirmLinks=function(b){a.setupConfirmLinks(b)};a.detectTimezone=function(){if(!Cookie.get("timezone_offset")){var a=new Date,b=new Date(a.getFullYear(),0,1,0,0,0,0),c=b.toGMTString(),c=new Date(c.substring(0,c.lastIndexOf(" ")-1)),b=(b-c)/36E5,a=new Date(a.getFullYear(),6,1,0,0,0,0),c=a.toGMTString(),c=
new Date(c.substring(0,c.lastIndexOf(" ")-1)),a=(a-c)/36E5,b=b==a?"0":"1";Cookie.set("timezone_offset",a);Cookie.set("timezone_daylightsavings",b)}};a.browserIsMobile=function(){return/mobile/i.test(navigator.userAgent)};a.refreshCufon=function(){typeof Cufon==="object"&&Cufon.refresh()};a.setupAjax=function(){c.ajaxSetup({timeout:Config.get("ajax_timeout",-1)});c(document).bind("ajaxStop",function(){c("body").removeClass("loading")}).bind("ajaxStart",function(){c("body").addClass("loading")}).bind("ajaxError",
function(d,k,f){d=k.statusText;if(d=="parsererror"||d=="error"||d=="timeout"){var i=f.url;Logger.logToServer({error:"Ajax error",status:d,url:i,responseText:k.responseText,code:k.status,agent:navigator.userAgent,cookies:document.cookie,referer:document.referrer,jqueryVersion:c.fn.jquery})}if(d=="timeout")a.alert(__("The server is too busy at the moment."));else{var j=!1;try{j=c.parseJSON(k.responseText)}catch(u){j=!1}k.status==500?j&&j.html&&a.alert(j.html):k.status==401&&(j&&j.html?j.redirect?a.confirm(j.html,
function(){b.location.href=j.redirect}):a.alert(j.html):(i=Config.get("login_url"))?a.confirm(__("This action requires to be logged in and you are not logged in. Redirect to login page?"),function(){b.location.href=i}):a.alert(__("This action requires to be logged in and you are not logged in. Please login.")))}})};a.setup=function(){a.jsEnabled&&(c(document.documentElement).addClass("js"),a.setupAjax(),c(document).ready(function(){var b=Config.get("cookie_domain"),c=Config.get("cookie_path");Cookie.set("has_js",
1,"",c,b);a.detectTimezone();a.attachBehaviors(this)}))};if(typeof b.Application==="undefined")b.Application=a;a.setup()})(window.jQuery,window,window.Application);var JsAPI=JsAPI||{};JsAPI.packageConfig={dependencies:[],packages:[]};JsAPI.loadedResources=[];JsAPI.isInitialized=!1;JsAPI.initialize=function(){for(var c=document.getElementsByTagName("script"),b=0;b<c.length;b++)c[b].src&&(this.loadedResources[c[b].src]=!0)};
JsAPI.usePackage=function(c,b,a,d){if(!this.isInitialized)this.initialize(),this.isInitialized=!0;if(typeof this.packageConfig.packages[c]!=="undefined"){var e=this.getPackageDependencies(c),c=this.packageConfig.packages[c];e.length&&(c=e.concat(c));typeof d==="undefined"&&(d=!0);c=this.processResources(c);d={test:d,yep:c};if(typeof a==="function")d.callback=[a];if(typeof b==="function")d.complete=b;yepnope(d)}else"console"in window&&console.error('Invalid package "'+c+'".')};
JsAPI.processResources=function(c){for(var b=[],a=0;a<c.length;a++)this.loadedResources[c[a]]||b.push(c[a]),this.loadedResources[c[a]]=!0;return b};
JsAPI.getPackageDependencies=function(c){var b=[];if(this.packageConfig.dependencies[c]!==void 0)for(var a=0,d=this.packageConfig.dependencies[c].length;a<d;a++){var e=this.packageConfig.dependencies[c][a];this.packageConfig.packages[e]!==void 0&&(b=b.concat(this.getPackageDependencies(e)),b=b.concat(this.packageConfig.packages[e]))}c=document.location.protocol;for(a=0;a<b.length;a++)d=b[a].split("!"),e=d.pop(),e.match(/^\/\//)&&(e=c+e,b[a]=d.join("!")+e);return b};
var use_package=function(c,b,a,d){JsAPI.usePackage(c,b,a,d)};
(function(c){c=c||{behaviors:{}};c.behaviors.coreSetupForms=function(b){c.setupForms(b)};c.behaviors.coreSetupEditableActions=function(b){c.setupEditableActions(b)};c.setupForms=function(b){c.setupTimeWidgets(b);c.setupDateWidgets(b);c.setupDateTimeWidgets(b);c.setupNumberWidgets(b);c.setupTextareas(b);c.setupSelects(b);c.setupDualLists(b)};c.getTimePickerOptions=function(b){b=Globalize.culture(b?b:Config.get("culture"));return{timeOnlyTitle:__("Choose time"),timeText:__("Time"),hourText:__("Hours"),
minuteText:__("Minutes"),secondText:__("Seconds"),millisecText:__("Miliseconds"),timezoneText:__("Timezone"),currentText:__("Now"),closeText:__("Close"),timeFormat:b.calendar.patterns.t,showTime:!1,timeOnly:!0,controlType:typeof myJqueryUIDatetimePickerControl==="object"?myJqueryUIDatetimePickerControl:"select"}};c.getDatePickerOptions=function(b){b=Globalize.culture(b?b:Config.get("culture"));return{firstDay:b.calendar.firstDay,monthNames:b.calendar.months.names,monthNamesShort:b.calendar.months.names,
dayNames:b.calendar.days.names,dayNamesShort:b.calendar.days.namesAbbr,dayNamesMin:b.calendar.days.namesShort,currentText:__("Today"),closeText:__("Close"),nextText:__("Next"),prevText:__("Previous"),hideIfNoPrevNext:!0,changeYear:!1,changeMonth:!1,showOtherMonths:!1}};c.getDateTimePickerOptions=function(b){b=Globalize.culture(b?b:Config.get("culture"));return $.extend({},c.getDatePickerOptions(),{timeOnlyTitle:__("Choose time"),timeText:__("Time"),hourText:__("Hours"),minuteText:__("Minutes"),secondText:__("Seconds"),
millisecText:__("Miliseconds"),timezoneText:__("Timezone"),currentText:__("Now"),closeText:__("Close"),timeFormat:b.calendar.patterns.t,amNames:b.calendar.AM,pmNames:b.calendar.PM,isRTL:!1,changeYear:!1,changeMonth:!1,showOtherMonths:!1,showButtonPanel:!0,controlType:typeof myJqueryUIDatetimePickerControl==="object"?myJqueryUIDatetimePickerControl:"select",timeOnly:!1,showTime:!1})};c.setupTimeWidgets=function(b){var a=$("input.time",b).not(".hasDatePicker");a.length&&use_package("ui",function(){a.each(function(){var a=
$(this);a.timepicker(c.getTimeWidgetOptions(a))})},null,typeof $.fn.timepicker==="undefined")};c.setupDateWidgets=function(b){var a=$("input.date",b).not(".hasDatePicker");a.length&&use_package("ui",function(){a.each(function(){var a=$(this);a.datepicker(c.getDateWidgetOptions(a))})},null,typeof $.fn.datepicker==="undefined")};c.getTimeWidgetOptions=function(b){return $.extend({},c.getTimePickerOptions(),b.data("timepickerOptions")||{})};c.getDateWidgetOptions=function(b){b=$.extend({},c.getDatePickerOptions(),
b.data("datepickerOptions")||{});if(b.minDate)try{b.minDate=eval("("+b.minDate+")")}catch(a){}if(b.maxDate)try{b.maxDate=eval("("+b.maxDate+")")}catch(d){}return b};c.getDateTimeWidgetOptions=function(b){b=$.extend({},c.getDateTimePickerOptions(),b.data("datetimepickerOptions")||{});if(b.minDate)try{b.minDate=eval("("+b.minDate+")")}catch(a){}if(b.maxDate)try{b.maxDate=eval("("+b.maxDate+")")}catch(d){}if(b.minDateTime)try{b.minDateTime=eval("("+b.minDateTime+")")}catch(e){}if(b.maxDateTime)try{b.maxDateTime=
eval("("+b.maxDateTime+")")}catch(k){}return b};c.setupDateTimeWidgets=function(b){var a=$("input.datetime",b).not(".hasDatePicker");a.length&&use_package("ui",function(){a.each(function(){var a=$(this);a.datetimepicker(c.getDateTimeWidgetOptions(a))})},null,typeof $.fn.timepicker==="undefined")};c.setupNumberWidgets=function(b){var a=$("input.number,input.integer,input.price",b);a.length&&use_package("ui",function(){a.each(function(){var a=$(this).data("culture")?$(this).data("culture"):Config.get("culture"),
a=a.replace("_","-");$(this).spinner($.extend({culture:a},$(this).data("spinnerOptions")||{}))})})};c.getEditableOptions=function(b){var a={placement:c.widgetPlacement,container:"body",mode:"popup",emptytext:__("Empty")};switch(b.data("type")){case "date":a.datepicker=c.getDateWidgetOptions(b),a.clear=__("clear"),a.format=a.datepicker.format||"yyyy-m-d"}return a};c.editableOnSaveCallback=function(b,a){if(a.response&&a.response.success&&typeof a.response.value!=="undefined")a.newValue=a.newValue instanceof
Date?new Date(a.response.value):a.response.value};c.setupEditableActions=function(b){$("a.editable-action",b).each(function(){var a=$(this),b=$.extend({},c.getEditableOptions(a),a.data("editableOptions")||{});a.editable(b).on("save",c.editableOnSaveCallback)})};c.getRichEditorOptions=c.getRichEditorOptions||function(){return{}};c.setupRichEditor=function(b,a){use_package("editor",function(){var c=CKEDITOR.replace(b.get(0),a);b.on("myfocus.from_error_label",function(a,b){c.focus();b&&b.hide()});$('label[for="'+
b.attr("name")+'"]').click(function(){c.focus()});c.on("afterCommandExec",function(a){a.editor.updateElement();b.trigger("change")});c.on("blur",function(){b.trigger("blur")})})};c.setupTextareas=function(b){$("textarea.rich",b).each(function(){var a=$(this),b=$.extend({},c.getRichEditorOptions(),a.data("editorOptions")||{});c.setupRichEditor(a,b)})};c.getSelectOptions=function(b){var a={width:"element",formatNoMatches:function(){return __("No matches found.")},formatInputTooShort:function(a,b){return __("Please enter %number% more characters.",
{"%number%":b-a.length})},formatSelectionTooBig:function(a){return __("You can only select %number% item(s).",{"%number%":a})},formatLoadMore:function(){return __("Loading more results...")},formatSearching:function(){return __("Searching...")}};if(b.prop("multiple"))a.closeOnSelect=!1;return a};c.setupSelects=function(b){var a=$("select.rich",b);a.length&&use_package("select",function(){a.each(function(){var a=$(this),b=$.extend({},c.getSelectOptions(a),a.data("selectOptions")||{});a.select2(b)})},
null,typeof $.fn.select2==="undefined")};c.setupDualLists=function(b){var a=$("div.dual-list",b);a.length&&use_package("dual_list",function(){a.each(function(){var a=$(this),b=$.extend({},a.data("dualListOptions")||{});a.dualList(b)})})};if(typeof window.Application==="undefined")window.Application=c})(window.Application);
(function(c,b){b=b||{behaviors:{}};b.widgetPlacement=function(a,b){var e=c(a);if(!e.is(":hidden")){var k=c(b);if(c(window).width()<500)return"bottom";var f=c.extend({},k.offset(),{width:b.offsetWidth,height:b.offsetHeight}),i=e.height(),j=e.width(),u=c(document).scrollTop(),v=c(document).scrollLeft(),G=v+c(window).width(),y=u+c(window).height(),e=function(a){return u<a.top&&v<a.left&&G>a.left+j&&y>a.top+i},z={top:f.top+f.height,left:f.left+f.width/2-j/2},s={top:f.top+f.height/2-i/2,left:f.left-j},
k={top:f.top+f.height/2-i/2,left:f.left+f.width},f=e({top:f.top-i,left:f.left+f.width/2-j/2}),z=e(z),s=e(s);e(k);return f?"top":z?"bottom":s?"left":"right"}};if(typeof window.Application==="undefined")window.Application=b})(window.jQuery,window.Application);
(function(c,b){function a(a,b){return d.translate(a,b)}var d=function(){var b=[];return{formatNumberChoice:function(b,c,d){function e(a,b){for(var c in b)a=a.replace(RegExp(c),b[c]);return a}b=a(b);d=b.match(RegExp("\\["+d+"\\]s?([^|]*)"));return d!=null?e(d[1],c):(d=/\[else\]\s?([^\|]*)/,d=b.match(d),d!=null?e(d[1],c):"not found")},translate:function(a,c){b&&b[a]&&(a=b[a]);if(c)for(var d in c)a=a.replace(d,c[d],"g");return a},setTranslation:function(a){b=a},addTranslation:function(a){c.extend(b,
a)}}}();b.I18n=d;b.__=a})(window.jQuery,window);
(function(c,b){var a,d,e,k,f,i,j,u,v,G,y,z,s,K,C,H,L,M,P,N,E,I,O,F;a=function(b){return new a.prototype.init(b)};typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"?module.exports=a:c.Globalize=a;a.cultures={};a.prototype={constructor:a,init:function(b){this.cultures=a.cultures;this.cultureSelector=b;return this}};a.prototype.init.prototype=a.prototype;a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],
decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),namesAbbr:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
namesShort:"Su,Mo,Tu,We,Th,Fr,Sa".split(",")},months:{names:"January,February,March,April,May,June,July,August,September,October,November,December,".split(","),namesAbbr:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,".split(",")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",
S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};a.cultures["default"].calendar=a.cultures["default"].calendars.standard;a.cultures.en=a.cultures["default"];a.cultureSelector="en";d=/^0x[a-f0-9]+$/i;e=/^[+\-]?infinity$/i;k=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;f=/^\s+|\s+$/g;i=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,l=a.length;c<l;c++)if(a[c]===b)return c;return-1};j=function(a,b){return a.substr(a.length-b.length)===b};u=function(){var a,c,o,l,d,e=arguments[0]||{},h=1,g=arguments.length,
n=!1;typeof e==="boolean"&&(n=e,e=arguments[1]||{},h=2);for(typeof e!=="object"&&!G(e)&&(e={});h<g;h++)if((a=arguments[h])!=null)for(c in a)o=e[c],l=a[c],e!==l&&(n&&l&&(y(l)||(d=v(l)))?(d?(d=!1,o=o&&v(o)?o:[]):o=o&&y(o)?o:{},e[c]=u(n,o,l)):l!==b&&(e[c]=l));return e};v=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};G=function(a){return Object.prototype.toString.call(a)==="[object Function]"};y=function(a){return Object.prototype.toString.call(a)==="[object Object]"};
z=function(a,b){return a.indexOf(b)===0};s=function(a){return(a+"").replace(f,"")};K=function(a){return isNaN(a)?NaN:Math[a<0?"ceil":"floor"](a)};C=function(a,b,c){var l;for(l=a.length;l<b;l+=1)a=c?"0"+a:a+"0";return a};H=function(a,b){for(var c=0,l=!1,d=0,e=a.length;d<e;d++){var h=a.charAt(d);switch(h){case "'":l?b.push("'"):c++;l=!1;break;case "\\":l&&b.push("\\");l=!l;break;default:b.push(h),l=!1}}return c};L=function(a,b){var b=b||"F",c;c=a.patterns;var l=b.length;if(l===1){c=c[b];if(!c)throw"Invalid date format string '"+
b+"'.";b=c}else l===2&&b.charAt(0)==="%"&&(b=b.charAt(1));return b};M=function(a,b,c){function l(a,b){var c;c=a+"";return b>1&&c.length<b?(c=k[b-2]+c,c.substr(c.length-b,b)):c}function d(){if(i||j)return i;i=s.test(b);j=!0;return i}function e(a,b){if(A)return A[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b;}}var h=c.calendar,g=h.convert;if(!b||!b.length||b==="i"){if(c&&c.name.length)if(g)c=M(a,h.patterns.F,c);else{var c=
new Date(a.getTime()),n=E(a,h.eras);c.setFullYear(I(a,h,n));c=c.toLocaleString()}else c=a.toString();return c}var n=h.eras,f=b==="s",b=L(h,b),c=[],m,k=["0","00","000"],i,j,s=/([^d]|^)(d|dd)([^d]|$)/g,t=0,r=N(),A;for(!f&&g&&(A=g.fromGregorian(a));;){m=r.lastIndex;g=r.exec(b);m=b.slice(m,g?g.index:b.length);t+=H(m,c);if(!g)break;if(t%2)c.push(g[0]);else switch(m=g[0],g=m.length,m){case "ddd":case "dddd":c.push((g===3?h.days.namesAbbr:h.days.names)[a.getDay()]);break;case "d":case "dd":i=!0;c.push(l(e(a,
2),g));break;case "MMM":case "MMMM":m=e(a,1);c.push(h.monthsGenitive&&d()?h.monthsGenitive[g===3?"namesAbbr":"names"][m]:h.months[g===3?"namesAbbr":"names"][m]);break;case "M":case "MM":c.push(l(e(a,1)+1,g));break;case "y":case "yy":case "yyyy":m=A?A[0]:I(a,h,E(a,n),f);g<4&&(m%=100);c.push(l(m,g));break;case "h":case "hh":m=a.getHours()%12;m===0&&(m=12);c.push(l(m,g));break;case "H":case "HH":c.push(l(a.getHours(),g));break;case "m":case "mm":c.push(l(a.getMinutes(),g));break;case "s":case "ss":c.push(l(a.getSeconds(),
g));break;case "t":case "tt":m=a.getHours()<12?h.AM?h.AM[0]:" ":h.PM?h.PM[0]:" ";c.push(g===1?m.charAt(0):m);break;case "f":case "ff":case "fff":c.push(l(a.getMilliseconds(),3).substr(0,g));break;case "z":case "zz":m=a.getTimezoneOffset()/60;c.push((m<=0?"+":"-")+l(Math.floor(Math.abs(m)),g));break;case "zzz":m=a.getTimezoneOffset()/60;c.push((m<=0?"+":"-")+l(Math.floor(Math.abs(m)),2)+":"+l(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":h.eras&&c.push(h.eras[E(a,n)].name);break;
case "/":c.push(h["/"]);break;default:throw"Invalid date format pattern '"+m+"'.";}}return c.join("")};(function(){var a;a=function(a,b,c){var w=c.groupSizes,d=w[0],e=1,g=Math.pow(10,b),n=Math.round(a*g)/g;isFinite(n)||(n=a);g="";g=(n+"").split(/e/i);n=g.length>1?parseInt(g[1],10):0;a=g[0];g=a.split(".");a=g[0];g=g.length>1?g[1]:"";n>0?(g=C(g,n,!1),a+=g.slice(0,n),g=g.substr(n)):n<0&&(n=-n,a=C(a,n+1,!0),g=a.slice(-n,a.length)+g,a=a.slice(0,-n));g=b>0?c["."]+(g.length>b?g.slice(0,b):C(g,b)):"";b=a.length-
1;c=c[","];for(n="";b>=0;){if(d===0||d>b)return a.slice(0,b+1)+(n.length?c+n+g:g);n=a.slice(b-d+1,b+1)+(n.length?c+n:"");b-=d;e<w.length&&(d=w[e],e++)}return a.slice(0,b+1)+c+n+g};P=function(b,c,d){if(!isFinite(b))return b===Infinity?d.numberFormat.positiveInfinity:b===-Infinity?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||c==="i")return d.name.length?b.toLocaleString():b.toString();var c=c||"D",d=d.numberFormat,e=Math.abs(b),f=-1;c.length>1&&(f=parseInt(c.slice(1),10));var h=c.charAt(0).toUpperCase(),
g;switch(h){case "D":c="n";e=K(e);f!==-1&&(e=C(""+e,f,!0));b<0&&(e="-"+e);break;case "N":g=d;case "C":g=g||d.currency;case "P":g=g||d.percent;c=b<0?g.pattern[0]:g.pattern[1]||"n";if(f===-1)f=g.decimals;e=a(e*(h==="P"?100:1),f,g);break;default:throw"Bad number format specifier: "+h;}b=/n|\$|-|%/g;for(g="";;){f=b.lastIndex;h=b.exec(c);g+=c.slice(f,h?h.index:c.length);if(!h)break;switch(h[0]){case "n":g+=e;break;case "$":g+=d.currency.symbol;break;case "-":/[1-9]/.test(e)&&(g+=d["-"]);break;case "%":g+=
d.percent.symbol}}return g}})();N=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};E=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,c===null||d>=c)return e;return 0};I=function(a,b,c,d){a=a.getFullYear();!d&&b.eras&&(a-=b.eras[c].offset);return a};(function(){var a,b,c,d,e,f,h;a=function(a,b){if(b<100){var c=new Date,d=E(c),c=I(c,a,d),d=a.twoDigitYearMax,d=typeof d==="string"?(new Date).getFullYear()%
100+parseInt(d,10):d;b+=c-c%100;b>d&&(b-=100)}return b};b=function(a,b,c){var d=a.days,e=a._upperDays;if(!e)a._upperDays=e=[h(d.names),h(d.namesAbbr),h(d.namesShort)];b=f(b);c?(a=i(e[1],b),a===-1&&(a=i(e[2],b))):a=i(e[0],b);return a};c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,w=a._upperMonths,l=a._upperMonthsGen;if(!w)a._upperMonths=w=[h(d.names),h(d.namesAbbr)],a._upperMonthsGen=l=[h(e.names),h(e.namesAbbr)];b=f(b);a=i(c?w[1]:w[0],b);a<0&&(a=i(c?l[1]:l[0],b));return a};d=function(a,
b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var d=L(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],w=[],l=0,f=0,Q=N(),h;(h=Q.exec(d))!==null;){var o=d.slice(l,h.index),l=Q.lastIndex;f+=H(o,e);if(f%2)e.push(h[0]);else{var o=h[0],k=o.length;switch(o){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":o="(\\D+)";break;case "tt":case "t":o="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":o="(\\d{"+k+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":o=
"(\\d\\d?)";break;case "zzz":o="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":o="([+-]?\\d\\d?)";break;case "/":o="(\\/)";break;default:throw"Invalid date format pattern '"+o+"'.";}o&&e.push(o);w.push(h[0])}}H(d.slice(l),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:w};return c[b]=d};e=function(a,b,c){return a<b||a>c};f=function(a){return a.split("\u00a0").join(" ").toUpperCase()};h=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=f(a[c]);return b};O=function(g,f,h){var g=
s(g),h=h.calendar,f=d(h,f),m=RegExp(f.regExp).exec(g);if(m===null)return null;var k=f.groups,i=f=g=null,j=null,J=null,t=0,r,A=0,u=0,v=0;r=null;for(var y=!1,B=0,C=k.length;B<C;B++){var p=m[B+1];if(p){var q=k[B],D=q.length,x=parseInt(p,10);switch(q){case "dd":case "d":j=x;if(e(j,1,31))return null;break;case "MMM":case "MMMM":i=c(h,p,D===3);if(e(i,0,11))return null;break;case "M":case "MM":i=x-1;if(e(i,0,11))return null;break;case "y":case "yy":case "yyyy":f=D<4?a(h,x):x;if(e(f,0,9999))return null;break;
case "h":case "hh":t=x;t===12&&(t=0);if(e(t,0,11))return null;break;case "H":case "HH":t=x;if(e(t,0,23))return null;break;case "m":case "mm":A=x;if(e(A,0,59))return null;break;case "s":case "ss":u=x;if(e(u,0,59))return null;break;case "tt":case "t":y=h.PM&&(p===h.PM[0]||p===h.PM[1]||p===h.PM[2]);if(!y&&(!h.AM||p!==h.AM[0]&&p!==h.AM[1]&&p!==h.AM[2]))return null;break;case "f":case "ff":case "fff":v=x*Math.pow(10,3-D);if(e(v,0,999))return null;break;case "ddd":case "dddd":J=b(h,p,D===3);if(e(J,0,6))return null;
break;case "zzz":q=p.split(/:/);if(q.length!==2)return null;r=parseInt(q[0],10);if(e(r,-12,13))return null;q=parseInt(q[1],10);if(e(q,0,59))return null;r=r*60+(z(p,"-")?-q:q);break;case "z":case "zz":r=x;if(e(r,-12,13))return null;r*=60;break;case "g":case "gg":if(!p||!h.eras)return null;p=s(p.toLowerCase());q=0;for(D=h.eras.length;q<D;q++)if(p===h.eras[q].name.toLowerCase()){g=q;break}if(g===null)return null}}}m=new Date;k=(B=h.convert)?B.fromGregorian(m)[0]:m.getFullYear();f===null?f=k:h.eras&&
(f+=h.eras[g||0].offset);i===null&&(i=0);j===null&&(j=1);if(B){if(m=B.toGregorian(f,i,j),m===null)return null}else{m.setFullYear(f,i,j);if(m.getDate()!==j)return null;if(J!==null&&m.getDay()!==J)return null}y&&t<12&&(t+=12);m.setHours(t,A,u,v);r!==null&&(h=m.getMinutes()-(r+m.getTimezoneOffset()),m.setHours(m.getHours()+parseInt(h/60,10),h%60));return m}})();F=function(a,b,c){var d=b["-"],b=b["+"],e;switch(c){case "n -":d=" "+d,b=" "+b;case "n-":j(a,d)?e=["-",a.substr(0,a.length-d.length)]:j(a,b)&&
(e=["+",a.substr(0,a.length-b.length)]);break;case "- n":d+=" ",b+=" ";case "-n":z(a,d)?e=["-",a.substr(d.length)]:z(a,b)&&(e=["+",a.substr(b.length)]);break;case "(n)":z(a,"(")&&j(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};a.prototype.findClosestCulture=function(b){return a.findClosestCulture.call(this,b)};a.prototype.format=function(b,c,d){return a.format.call(this,b,c,d)};a.prototype.localize=function(b,c){return a.localize.call(this,b,c)};a.prototype.parseInt=function(b,c,d){return a.parseInt.call(this,
b,c,d)};a.prototype.parseFloat=function(b,c,d){return a.parseFloat.call(this,b,c,d)};a.prototype.culture=function(b){return a.culture.call(this,b)};a.addCultureInfo=function(a,b,c){var d={},e=!1;typeof a!=="string"?(c=a,a=this.culture().name,d=this.cultures[a]):typeof b!=="string"?(c=b,e=this.cultures[a]==null,d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]);this.cultures[a]=u(!0,{},d,c);if(e)this.cultures[a].calendar=this.cultures[a].calendars.standard};a.findClosestCulture=
function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];typeof a==="string"&&(a=a.split(","));if(v(a)){var c,d=this.cultures,e=a,f,h=e.length,g=[];for(f=0;f<h;f++)a=s(e[f]),a=a.split(";"),c=s(a[0]),a.length===1?a=1:(a=s(a[1]),a.indexOf("q=")===0?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),g.push({lang:c,pri:a});g.sort(function(a,b){if(a.pri<b.pri)return 1;else if(a.pri>b.pri)return-1;return 0});for(f=0;f<h;f++)if(c=g[f].lang,b=d[c])return b;for(f=
0;f<h;f++){c=g[f].lang;do{e=c.lastIndexOf("-");if(e===-1)break;c=c.substr(0,e);if(b=d[c])return b}while(1)}for(f=0;f<h;f++){c=g[f].lang;for(var i in d)if(e=d[i],e.language==c)return e}}else if(typeof a==="object")return a;return b||null};a.format=function(a,b,c){c=this.findClosestCulture(c);a instanceof Date?a=M(a,b,c):typeof a==="number"&&(a=P(a,b,c));return a};a.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]};a.parseDate=function(a,b,c){var c=
this.findClosestCulture(c),d,e;if(b){if(typeof b==="string"&&(b=[b]),b.length){e=0;for(var f=b.length;e<f;e++){var h=b[e];if(h&&(d=O(a,h,c)))break}}}else for(e in b=c.calendar.patterns,b)if(d=O(a,b[e],c))break;return d||null};a.parseInt=function(b,c,d){return K(a.parseFloat(b,c,d))};a.parseFloat=function(a,b,c){typeof b!=="number"&&(c=b,b=10);var f=this.findClosestCulture(c),c=NaN,i=f.numberFormat;a.indexOf(f.numberFormat.currency.symbol)>-1&&(a=a.replace(f.numberFormat.currency.symbol,""),a=a.replace(f.numberFormat.currency["."],
f.numberFormat["."]));a.indexOf(f.numberFormat.percent.symbol)>-1&&(a=a.replace(f.numberFormat.percent.symbol,""));a=a.replace(/ /g,"");if(e.test(a))c=parseFloat(a);else if(!b&&d.test(a))c=parseInt(a,16);else{f=F(a,i,i.pattern[0]);b=f[0];f=f[1];b===""&&i.pattern[0]!=="(n)"&&(f=F(a,i,"(n)"),b=f[0],f=f[1]);b===""&&i.pattern[0]!=="-n"&&(f=F(a,i,"-n"),b=f[0],f=f[1]);var b=b||"+",j,a=f.indexOf("e");a<0&&(a=f.indexOf("E"));a<0?(j=f,a=null):(j=f.substr(0,a),a=f.substr(a+1));var h=i["."],g=j.indexOf(h);g<
0?(f=j,j=null):(f=j.substr(0,g),j=j.substr(g+h.length));h=i[","];f=f.split(h).join("");g=h.replace(/\u00A0/g," ");h!==g&&(f=f.split(g).join(""));b+=f;j!==null&&(b+="."+j);a!==null&&(i=F(a,i,"-n"),b+="e"+(i[0]||"+")+i[1]);k.test(b)&&(c=parseFloat(b))}return c};a.culture=function(a){if(typeof a!=="undefined")this.cultureSelector=a;return this.findClosestCulture(a)||this.cultures["default"]}})(this);
(function(c,b){var a=function(){var b=function(){return Config.get("debug")?!0:!1},e=function(){return typeof console!=="undefined"?!0:!1},k=function(){};return{info:function(){a.log(arguments)},log:function(){b()&&e()&&console.log(arguments.length>1?Array.prototype.slice.call(arguments):arguments[0])},debug:function(){b()&&e()&&console.debug(arguments.length>1?Array.prototype.slice.call(arguments):arguments[0])},error:function(){b()&&e()&&console.error(arguments.length>1?Array.prototype.slice.call(arguments):
arguments[0])},logToServer:function(a){if(Config.get("log")&&Config.get("log_url")){var b=Config.get("log_url");b&&c.ajax({url:b,dataType:"json",type:"POST",global:!1,data:a,success:k})}},varDump:function(a){return typeof a==="object"?"Type: "+typeof a+(a.constructor?"\nConstructor: "+a.constructor:"")+"\nValue: "+a:"Type: "+typeof a+"\nValue: "+a}}}();b.Logger=a})(window.jQuery,window);
(function(){var c=function(){function b(a){for(var c=b.options,a=c.parser[c.strictMode?"strict":"loose"].exec(a),e={},k=14;k--;)e[c.key[k]]=a[k]||"";e[c.q.name]={};e[c.key[12]].replace(c.q.parser,function(a,b,j){b&&(e[c.q.name][b]=j)});return e}b.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};return{buildQuery:function(a,b,c){typeof b==="undefined"&&(b="/");typeof c==="undefined"&&(c="/");var k=0,f=[];jQuery.each(a,function(a,b){a=encodeURIComponent(a);b=encodeURIComponent(b.toString());f[k++]=a+c+b});return f.join(b)},encodeHashComponent:function(a){return encodeURIComponent(a).split("%").join("+")},
decodeHashComponent:function(a){return decodeURIComponent(a.split("+").join("%"))},getHashParameters:function(a){a||(a="&");for(var a=location.hash.substring(1).split(a),b={},e=a.length;e-- >0;){var k=a[e].split("="),f=k[0];f!=""&&(k=k.slice(1).join("="),b[c.decodeHashComponent(f)]=c.decodeHashComponent(k))}return b},parseUri:b}}();window.Tools=c})(window.jQuery);
