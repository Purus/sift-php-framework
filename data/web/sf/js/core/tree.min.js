(function(d,c){if(typeof d==="undefined")throw"Application is required.";if(typeof c.ui==="undefined")throw"jQuery UI is required.";if(typeof c.ui.dynatree==="undefined")throw"Dynatree is required.";if(typeof c.fn.treeManager==="undefined")throw"TreeManager is required.";var f=function(b,a){var e=b.getEventTargetType(a),c=b.tree.options.selectMode;if(!e||e==="title")switch(c){case 1:b.isSelected()||b.select();break;case 2:case 3:b.toggleSelect()}},g=function(b,a){var e=c(a.li).find('input[type="checkbox"]:first,input[type="radio"]:first');
b?e.attr("checked","checked").trigger("change"):e.removeAttr("checked").trigger("change")};d.prepareTreeWidget=function(b){b.find('input[type="checkbox"],input:radio').each(function(){var a=c(this);a.prop("checked")&&a.parents("li:first").addClass("selected").addClass("expanded")})};d.getTreeWidgetOptions=function(b){var a={debugLevel:0,icon:!1,persist:!1,minExpandLevel:2,activeVisible:!0,selectionVisible:!0,checkbox:!1,autoFocus:!1,url:null};if(b.hasClass("tree-checkbox")||b.hasClass("tree-radio"))a.checkbox=
!0;var e=1,d="dynatree-radio";b.hasClass("multiple")&&(e=2,d="dynatree-checkbox");a.selectMode=e;a.classNames={checkbox:d};a=c.extend({},a,b.data("treeOptions")||{});if(a.checkbox)a.onClick=f,a.onSelect=g;if(a.dnd){if(typeof a.dnd.onDragStart==="string")a.dnd.onDragStart=Tools.getObject(a.dnd.onDragStart);if(typeof a.dnd.onDragStop==="string")a.dnd.onDragStop=Tools.getObject(a.dnd.onDragStop);if(typeof a.dnd.onDragOver==="string")a.dnd.onDragOver=Tools.getObject(a.dnd.onDragOver);if(typeof a.dnd.onDragEnter===
"string")a.dnd.onDragEnter=Tools.getObject(a.dnd.onDragEnter);if(typeof a.dnd.onDragLeave==="string")a.dnd.onDragLeave=Tools.getObject(a.dnd.onDragLeave);if(typeof a.dnd.onDrop==="string")a.dnd.onDrop=Tools.getObject(a.dnd.onDrop)}return a};d.behaviors.setupTrees=function(b){b=c("div.tree",b);b.length&&b.each(function(){var a=c(this);d.prepareTreeWidget(a);var b=d.getTreeWidgetOptions(a);a.treeManager(b)})}})(Application,window.jQuery);
