(function(d){if(d){var b=d.$,a=function(){};a.prototype={constructor:a,setup:function(a){this.$panel=b("#web-debug-panel-cache");this.$cachedFragments=b("div.web-debug-cached-fragment");a.isToolbarClosed()||this.showAllCachedFragments();this.$cachedFragments.each(function(a,c){b(c).find("a.web-debug-cache-toggler").click(function(a){var c=b(this);c.parent().find("div.web-debug-cache-info:first").toggleClass("hidden");c.toggleClass("opened");a.preventDefault()})});a.$toolbar.bind("opened",b.proxy(this.showAllCachedFragments,
this));a.$toolbar.bind("closed",b.proxy(this.hideAllCachedFragments,this));this.$contentViewLinks=b(".web-debug-cache-toggler",this.$panel);this.$contentViewLinks.click(function(a){var c=b(this).data("cacheId"),e=window.open("","_web_debug_cache_content","width=500,height=500,resizable=yes,scrollbars=yes");if(e){var f=e.document;f.write("<!DOCTYPE html><title>Cache: #"+c+'</title><meta charset="utf-8"><style>'+b("#web-debug-style").html()+'</style><body class="web-debug-cache-content-preview">');
c=b("#web-debug-cache-"+c+" .web-debug-cached-content");c.length&&(f.body.innerHTML="<pre><code>"+d.Highlighter.highlight(c.html())+"</code></pre>");f.write("</body></html>");e.document.close();e.focus();a.preventDefault()}})},hideAllCachedFragments:function(){this.$cachedFragments.addClass("hidden").removeClass("visible")},showAllCachedFragments:function(){this.$cachedFragments.removeClass("hidden").addClass("visible")}};d.Extensions.Cache=new a}})(window.WebDebug);
